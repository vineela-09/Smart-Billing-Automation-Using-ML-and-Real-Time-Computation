# ğŸ¤ Voice Billing System - Architecture & Flow Diagrams

## ğŸ“Š System Architecture

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                     VOICE BILLING SYSTEM                         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  SPEECH RECOGNITION  â”‚
â”‚  (Browser API)       â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ â€¢ Continuous Mode    â”‚
â”‚ â€¢ English Support    â”‚
â”‚ â€¢ Real-time Parse    â”‚
â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
       â”‚
       â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚               COMMAND PROCESSING ENGINE                           â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  âœ“ Item Parsing (name, qty, unit, price)                        â”‚
â”‚  âœ“ Math Calculations                                             â”‚
â”‚  âœ“ Tax & Discount Logic                                          â”‚
â”‚  âœ“ Settings Updates                                              â”‚
â”‚  âœ“ History Tracking                                              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                       â”‚
        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
        â”‚              â”‚              â”‚
        â†“              â†“              â†“
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚ Items  â”‚   â”‚ Settings â”‚   â”‚ History  â”‚
    â”‚ Store  â”‚   â”‚ Storage  â”‚   â”‚ Tracking â”‚
    â””â”€â”€â”€â”¬â”€â”€â”€â”€â”˜   â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”˜   â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”˜
        â”‚             â”‚              â”‚
        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                      â”‚
        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
        â”‚                           â”‚
        â†“                           â†“
   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”            â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
   â”‚ localStorageâ”‚            â”‚ Database   â”‚
   â”‚ (Local)    â”‚            â”‚ (Backend)  â”‚
   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜            â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
        â”‚                          â”‚
        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                   â†“
        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
        â”‚  EXPORT ENGINE          â”‚
        â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
        â”‚ â€¢ Excel (.xlsx)         â”‚
        â”‚ â€¢ CSV (.csv)            â”‚
        â”‚ â€¢ PDF (.pdf)            â”‚
        â”‚ â€¢ Print (HTML)          â”‚
        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ”„ Data Flow Diagram

```
VOICE INPUT
    â”‚
    â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Speech to Text  â”‚
â”‚ (Web Speech API)â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚
         â†“
    "add milk 2 hundred"
         â”‚
         â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Command Parser              â”‚
â”‚  â”œâ”€ Keyword Detection        â”‚
â”‚  â”œâ”€ Number Conversion        â”‚
â”‚  â””â”€ Intent Classification    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
           â”‚
      â”Œâ”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
      â”‚                      â”‚              â”‚
      â†“                      â†“              â†“
   ITEM COMMAND        TAX COMMAND      MATH COMMAND
      â”‚                    â”‚               â”‚
      â†“                    â†“               â†“
  Parse Item         Update GST/Tax   Calculate Math
  â”œâ”€ Name            â”œâ”€ discountPercent   â”‚
  â”œâ”€ Qty             â”œâ”€ gstPercent        â””â”€â†’ Result
  â”œâ”€ Unit            â””â”€ marginPercent
  â”œâ”€ Price
  â””â”€ Calc Profit
      â”‚
      â†“
  Add to Items Array
      â”‚
      â†“
  Update State
      â”‚
      â”œâ”€â†’ localStorage (Auto-save)
      â”‚
      â”œâ”€â†’ Display UI
      â”‚
      â””â”€â†’ Add to History
```

---

## ğŸ¯ State Management Diagram

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚         COMPONENT STATE (React)           â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                          â”‚
â”‚  listening: boolean    â†”  Microphone    â”‚
â”‚  paused: boolean       â†”  Recording     â”‚
â”‚                                          â”‚
â”‚  transcript: string    â†”  Voice Input   â”‚
â”‚                           Display       â”‚
â”‚                                          â”‚
â”‚  items: array[]        â†”  Current       â”‚
â”‚                           Bill           â”‚
â”‚                                          â”‚
â”‚  discountPercent: num  â†”  Tax/Discount  â”‚
â”‚  gstPercent: num       â†”  Settings      â”‚
â”‚  marginPercent: num                     â”‚
â”‚                                          â”‚
â”‚  savedBills: array[]   â†”  localStorage  â”‚
â”‚                           Bills         â”‚
â”‚                                          â”‚
â”‚  history: array[]      â†”  Operation    â”‚
â”‚                           Log           â”‚
â”‚                                          â”‚
â”‚  currentResult: obj    â†”  Live Display  â”‚
â”‚  activeTab: string     â†”  Tab State     â”‚
â”‚                                          â”‚
â”‚  stats: obj {          â†”  Statistics    â”‚
â”‚    totalCalculations,      Cards       â”‚
â”‚    totalItemsAdded,                    â”‚
â”‚    totalAmount,                        â”‚
â”‚    totalBillsSaved,                    â”‚
â”‚    totalProfit                         â”‚
â”‚  }                                      â”‚
â”‚                                          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ“‹ Item Calculation Flow

```
VOICE INPUT: "add rice 5 kg for 250 each"
         â”‚
         â†“
    PARSE COMMAND
         â”‚
    â”Œâ”€â”€â”€â”€â”´â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚          â”‚        â”‚        â”‚
    â†“          â†“        â†“        â†“
  Name      Quantity  Unit    Price
  "rice"    5         "kg"    250
         â”‚
         â†“
  CREATE ITEM OBJECT
         â”‚
    â”Œâ”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚             â”‚          â”‚        â”‚
    â†“             â†“          â†“        â†“
  qty          price     total     margin
  5            250      1250       30%
         â”‚                â”‚         â”‚
         â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                  â†“
           CALCULATE PROFIT
                  â”‚
         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”
         â”‚        â”‚        â”‚
         â†“        â†“        â†“
    principle  profit    total
    (cost)    per unit  profit
    250Ã—0.7   250-175   (250-175)Ã—5
    = 175     = 75      = 375
         â”‚
         â†“
   ADD TO ITEMS ARRAY
         â”‚
    â”Œâ”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚           â”‚              â”‚
    â†“           â†“              â†“
  Display    Update Stats   Save to
  in UI      (qty, amount)   History
```

---

## ğŸ’° Bill Calculation Flow

```
ITEMS:
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Milk:   2 Ã— 100 = 200           â”‚
â”‚ Rice:   5 Ã— 250 = 1250          â”‚
â”‚ Bread:  3 Ã— 50  = 150           â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚
         â†“
    SUBTOTAL = 200 + 1250 + 150 = 1600
         â”‚
    â”Œâ”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚                       â”‚
    â†“                       â†“
  DISCOUNT          (No Discount)
  (if set)          Discount = 0
  Discount = 
  1600 Ã— 0.05
  = 80
    â”‚                       â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
             â†“
    AFTER DISCOUNT = 1600 - 80 = 1520
             â”‚
             â†“
        GST (18%)
        1520 Ã— 0.18 = 273.60
             â”‚
             â†“
    FINAL TOTAL = 1520 + 273.60 = 1793.60
             â”‚
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚                         â”‚
    â†“                         â†“
  PROFIT              SUMMARY
  (1793.60 -      â”œâ”€ Subtotal: â‚¹1600
   Original Cost) â”œâ”€ Discount: -â‚¹80
  = 593.60        â”œâ”€ GST: +â‚¹273.60
                  â””â”€ TOTAL: â‚¹1793.60
```

---

## ğŸ“¤ Export Process Flow

```
CURRENT BILL STATE
         â”‚
    â”Œâ”€â”€â”€â”€â”¼â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚    â”‚    â”‚            â”‚
    â†“    â†“    â†“            â†“
  EXCEL CSV  PDF         PRINT
    â”‚    â”‚    â”‚            â”‚
    â”‚    â”‚    â”‚            â†“
    â”‚    â”‚    â”‚      Browser Print
    â”‚    â”‚    â”‚      Dialog Opens
    â”‚    â”‚    â”‚            â”‚
    â”‚    â”‚    â”‚            â†“
    â”‚    â”‚    â”‚      User Selects
    â”‚    â”‚    â”‚      Printer & Prints
    â”‚    â”‚    â”‚
    â”‚    â†“    â”‚
    â”‚  CSV    â”‚      Convert to
    â”‚  String â”‚      CSV Format
    â”‚    â”‚    â”‚      (rows, cols)
    â”‚    â†“    â”‚
    â”‚  Create â”‚      Download
    â”‚  Blob   â”‚      .csv File
    â”‚    â”‚    â”‚
    â”‚    â†“    â”‚
    â”‚  Download
    â”‚
    â†“
  XLSX Library
  Import
    â”‚
    â”œâ”€ Create Workbook
    â”œâ”€ Sheet 1: Current Bill
    â”‚  â”œâ”€ Headers
    â”‚  â”œâ”€ Items (name, qty, price, total, profit)
    â”‚  â””â”€ Summary (subtotal, discount, GST, total)
    â”‚
    â”œâ”€ Sheet 2: Summary Stats
    â”‚  â”œâ”€ Calculations Count
    â”‚  â”œâ”€ Items Count
    â”‚  â””â”€ Revenue Totals
    â”‚
    â””â”€ Sheet 3: All Saved Bills
       â”œâ”€ Bill Date
       â”œâ”€ Items Count
       â”œâ”€ Amounts
       â””â”€ Profits
    â”‚
    â†“
  Format & Style
    â”‚
    â”œâ”€ Set Column Width
    â”œâ”€ Add Borders
    â”œâ”€ Format Numbers
    â””â”€ Add Colors
    â”‚
    â†“
  Generate File
    â”‚
    â†“
  Download
  .xlsx File
    â”‚
    â†“
  PDF Library
  Import
    â”‚
    â”œâ”€ Create Document
    â”œâ”€ Add Title
    â”œâ”€ Add Headers (bill name, date)
    â”œâ”€ Create Table
    â”‚  â”œâ”€ Headers (Item, Qty, Price, Total, Profit)
    â”‚  â””â”€ Rows (all items)
    â”œâ”€ Add Summary
    â”‚  â”œâ”€ Subtotal
    â”‚  â”œâ”€ Discount
    â”‚  â”œâ”€ GST
    â”‚  â””â”€ Total
    â””â”€ Check Page Breaks
    â”‚
    â†“
  Style & Format
    â”‚
    â”œâ”€ Set Font
    â”œâ”€ Set Colors
    â””â”€ Set Alignment
    â”‚
    â†“
  Generate File
    â”‚
    â†“
  Download
  .pdf File
```

---

## ğŸ¤ Voice Command Processing

```
SPEECH INPUT â†’ "add milk 2 hundred"
         â”‚
         â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ 1. CHECK FOR KEYWORDS              â”‚
â”‚    - "add" âœ“ Found                 â”‚
â”‚    - "discount", "gst", etc.       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚
         â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ 2. ROUTE TO HANDLER                â”‚
â”‚    - Is "add"? â†’ Item Handler      â”‚
â”‚    - Is "discount"? â†’ Tax Handler  â”‚
â”‚    - Is math? â†’ Calc Handler       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚
         â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ 3. PARSE CONTENT                   â”‚
â”‚    Input: "milk 2 hundred"         â”‚
â”‚    â”œâ”€ Convert words to numbers     â”‚
â”‚    â”‚  "hundred" â†’ 100              â”‚
â”‚    â”œâ”€ Extract name: "milk"         â”‚
â”‚    â”œâ”€ Extract qty: 2               â”‚
â”‚    â””â”€ Extract price: 100           â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚
         â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ 4. CALCULATE VALUES                â”‚
â”‚    â”œâ”€ total = qty Ã— price          â”‚
â”‚    â”‚  2 Ã— 100 = 200                â”‚
â”‚    â”œâ”€ principle = price Ã— margin%  â”‚
â”‚    â”‚  100 Ã— 70% = 70               â”‚
â”‚    â””â”€ profit = total - principle   â”‚
â”‚       200 - 140 = 60               â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚
         â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ 5. CREATE ITEM OBJECT              â”‚
â”‚    {                               â”‚
â”‚      name: "milk",                 â”‚
â”‚      qty: 2,                       â”‚
â”‚      price: 100,                   â”‚
â”‚      total: 200,                   â”‚
â”‚      profitPerUnit: 30,            â”‚
â”‚      totalProfit: 60,              â”‚
â”‚      ...                           â”‚
â”‚    }                               â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚
         â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ 6. UPDATE STATE & UI               â”‚
â”‚    â”œâ”€ Add to items array           â”‚
â”‚    â”œâ”€ Update statistics            â”‚
â”‚    â”œâ”€ Display in UI                â”‚
â”‚    â”œâ”€ Save to localStorage         â”‚
â”‚    â””â”€ Add to history               â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ—„ï¸ Storage Architecture

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚              DATA STORAGE SYSTEM                    â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                     â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚  localStorage (Browser Storage)              â”‚   â”‚
â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤   â”‚
â”‚  â”‚                                              â”‚   â”‚
â”‚  â”‚  Key: "voice_bills"                          â”‚   â”‚
â”‚  â”‚  Type: JSON Array                            â”‚   â”‚
â”‚  â”‚  Structure:                                  â”‚   â”‚
â”‚  â”‚  [                                           â”‚   â”‚
â”‚  â”‚    {                                         â”‚   â”‚
â”‚  â”‚      billName: "Daily Sales",                â”‚   â”‚
â”‚  â”‚      items: [...],                           â”‚   â”‚
â”‚  â”‚      subtotal: 1000,                         â”‚   â”‚
â”‚  â”‚      discount: 100,                          â”‚   â”‚
â”‚  â”‚      gst: 162,                               â”‚   â”‚
â”‚  â”‚      total: 1062,                            â”‚   â”‚
â”‚  â”‚      timestamp: 1733648445000                â”‚   â”‚
â”‚  â”‚    },                                        â”‚   â”‚
â”‚  â”‚    ...more bills...                          â”‚   â”‚
â”‚  â”‚  ]                                           â”‚   â”‚
â”‚  â”‚                                              â”‚   â”‚
â”‚  â”‚  Persist: Yes (across sessions)              â”‚   â”‚
â”‚  â”‚  Offline: Yes (accessible)                   â”‚   â”‚
â”‚  â”‚  Size Limit: ~5-10MB                         â”‚   â”‚
â”‚  â”‚                                              â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                      â”‚                              â”‚
â”‚                      â”‚ (Auto-sync on save)          â”‚
â”‚                      â”‚                              â”‚
â”‚                      â†“                              â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚  Backend Database (Cloud Storage)            â”‚   â”‚
â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤   â”‚
â”‚  â”‚                                              â”‚   â”‚
â”‚  â”‚  Endpoint: POST /api/bills                   â”‚   â”‚
â”‚  â”‚  Method: API Call                            â”‚   â”‚
â”‚  â”‚  Auth: Bearer Token                          â”‚   â”‚
â”‚  â”‚  Data: Complete Bill Object                  â”‚   â”‚
â”‚  â”‚                                              â”‚   â”‚
â”‚  â”‚  Persist: Yes (permanent)                    â”‚   â”‚
â”‚  â”‚  Offline: No (requires internet)             â”‚   â”‚
â”‚  â”‚  Size Limit: Server dependent                â”‚   â”‚
â”‚  â”‚  Backup: Database backup                     â”‚   â”‚
â”‚  â”‚                                              â”‚   â”‚
â”‚  â”‚  Tables:                                     â”‚   â”‚
â”‚  â”‚  â”œâ”€ bills (main table)                       â”‚   â”‚
â”‚  â”‚  â”œâ”€ bill_items (items per bill)              â”‚   â”‚
â”‚  â”‚  â””â”€ bill_analytics (reporting)               â”‚   â”‚
â”‚  â”‚                                              â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                                     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ¨ UI Layout Structure

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    VOICE BILLING SYSTEM                          â”‚
â”‚  Say item name, quantity, and price                             â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                 â”‚
â”‚  [ğŸ™ï¸ Start] [â¸ï¸ Pause] [â¹ï¸ Stop] [ğŸ—‘ï¸ Clear]                    â”‚
â”‚                                                                 â”‚
â”‚  [ğŸ’³ Billing] [ğŸ“¤ Export] [âš™ï¸ Settings] [ğŸ“œ History]           â”‚
â”‚                                                                 â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ CONTENT AREA (Based on Active Tab)                             â”‚
â”‚                                                                 â”‚
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚ â”‚ ğŸ’³ BILLING TAB                                          â”‚   â”‚
â”‚ â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤   â”‚
â”‚ â”‚                                                         â”‚   â”‚
â”‚ â”‚ ğŸ“ Transcript: "add milk 2 hundred"                     â”‚   â”‚
â”‚ â”‚                                                         â”‚   â”‚
â”‚ â”‚ [Stat] [Stat] [Stat] [Stat]                            â”‚   â”‚
â”‚ â”‚                                                         â”‚   â”‚
â”‚ â”‚ ğŸ›’ Items (2)                                           â”‚   â”‚
â”‚ â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚   â”‚
â”‚ â”‚ â”‚ Milk: 2 Ã— 100 = â‚¹200                             â”‚  â”‚   â”‚
â”‚ â”‚ â”‚ Profit: â‚¹60                                      â”‚  â”‚   â”‚
â”‚ â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚   â”‚
â”‚ â”‚                                                         â”‚   â”‚
â”‚ â”‚ Bill Settings:                                         â”‚   â”‚
â”‚ â”‚ â”œâ”€ Bill Name: [___________]                           â”‚   â”‚
â”‚ â”‚ â”œâ”€ Discount: [_5%_]                                    â”‚   â”‚
â”‚ â”‚ â”œâ”€ GST: [_18%_]                                        â”‚   â”‚
â”‚ â”‚ â””â”€ Margin: [_30%_]                                     â”‚   â”‚
â”‚ â”‚                                                         â”‚   â”‚
â”‚ â”‚ Total Summary:                                         â”‚   â”‚
â”‚ â”‚ â”œâ”€ Subtotal: â‚¹1000                                     â”‚   â”‚
â”‚ â”‚ â”œâ”€ Discount: -â‚¹50                                      â”‚   â”‚
â”‚ â”‚ â”œâ”€ GST: +â‚¹171                                          â”‚   â”‚
â”‚ â”‚ â””â”€ TOTAL: â‚¹1121                                        â”‚   â”‚
â”‚ â”‚                                                         â”‚   â”‚
â”‚ â”‚ [ğŸ’¾ Save Bill to Database]                            â”‚   â”‚
â”‚ â”‚                                                         â”‚   â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                                                 â”‚
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚ â”‚ ğŸ“¤ EXPORT TAB                                           â”‚   â”‚
â”‚ â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤   â”‚
â”‚ â”‚                                                         â”‚   â”‚
â”‚ â”‚ [ğŸ“Š Excel] [ğŸ“„ CSV] [ğŸ“‹ PDF] [ğŸ–¨ï¸ Print]              â”‚   â”‚
â”‚ â”‚                                                         â”‚   â”‚
â”‚ â”‚ ğŸ“š Saved Bills (12)                                   â”‚   â”‚
â”‚ â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚   â”‚
â”‚ â”‚ â”‚ Bill 1: 12/8/2025, 10:30 AM - â‚¹1250            â”‚  â”‚   â”‚
â”‚ â”‚ â”‚ Bill 2: 12/8/2025, 11:15 AM - â‚¹890             â”‚  â”‚   â”‚
â”‚ â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚   â”‚
â”‚ â”‚                                                         â”‚   â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                                                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ”€ Tab Navigation State

```
State: activeTab = "billing" | "export" | "settings" | "history"

TAB SELECTOR
â”œâ”€ Tab 1: Billing (activeTab === "billing")
â”‚  â””â”€ Content: Items, Calculations, Save Button
â”‚
â”œâ”€ Tab 2: Export (activeTab === "export")
â”‚  â””â”€ Content: Export Buttons, Saved Bills List
â”‚
â”œâ”€ Tab 3: Settings (activeTab === "settings")
â”‚  â””â”€ Content: Sliders, Voice Command Reference
â”‚
â””â”€ Tab 4: History (activeTab === "history")
   â””â”€ Content: Operation Log (last 50 items)

On Click:
  setActiveTab("export") â†’ Render Export Tab Content
  setActiveTab("settings") â†’ Render Settings Tab Content
  setActiveTab("history") â†’ Render History Tab Content
```

---

## ğŸ“Š Statistics Dashboard

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ ğŸ§® Calc      â”‚ ğŸ“¦ Items     â”‚ ğŸ’µ Total     â”‚ ğŸ“Š Bills     â”‚
â”‚ 45           â”‚ 234          â”‚ â‚¹45,230      â”‚ 12           â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

Stats State Object:
{
  totalCalculations: 45,        â† Math operations
  totalItemsAdded: 234,         â† Item quantity
  totalAmount: 45230,           â† Revenue
  totalBillsSaved: 12,          â† Bills count
  totalProfit: 15420            â† Profit sum
}

Updated on:
  â”œâ”€ Item addition (+qty, +amount)
  â”œâ”€ Bill save (+bills, +profit)
  â””â”€ Math calculation (+calculations)
```

---

**Last Updated:** December 8, 2025  
**Status:** âœ… Complete  
**Version:** 2.0
